<!DOCTYPE html>
<html lang="">
  <head>
    <meta charset="utf-8">
    <title></title>
  </head>
  <body>
    <label for="id">Id:</label>
    <input type="text" id="id" name="id">
    <button type="button" id="Connect">Connect</button><br>
    <p id="rcon"></p>
    <script src="https://unpkg.com/peerjs@1.5.4/dist/peerjs.min.js"></script>
    <script>
      let peer = new Peer();
      peer.on("open", function (id) {
          alert(`Your id is ${id}, use this to connect to another chatter by sending them your id.`);
      });
      document.getElementById("Connect").addEventListener("click", function () {
        let peerID = document.getElementById("id").value;
        let conn = peer.connect(peerID);
        conn.on("open", function () {
          conn.send("Testing");
        });
      });
      peer.on("connection", function (conn) {
        document.getElementById("rcon").innerHTML = "Incoming connection!";
        conn.on("open", function () {
          conn.on("data", function (data) {
            console.log("Recieved", data);
            document.getElementById("rcon").innerHTML = ""
          });
        });
      });
    </script>
  </body>
</html>
